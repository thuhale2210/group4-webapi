@model MegaMartClient.Models.Dto.ProductCreateDto

@{
    ViewData["Title"] = "Create Product";
}

<h1>Create Product</h1>
<hr />

<div class="row">
    <!-- LEFT SIDE FORM -->
    <div class="col-md-6">
        <form asp-action="Create" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <div class="form-group mb-2">
                <label asp-for="Name"></label>
                <input asp-for="Name" class="form-control" />
            </div>

            <div class="form-group mb-2">
                <label asp-for="Category"></label>
                <input asp-for="Category" class="form-control" />
            </div>

            <div class="form-group mb-2">
                <label asp-for="UnitPrice"></label>
                <input asp-for="UnitPrice" class="form-control" />
            </div>

            <div class="form-group mb-2">
                <label asp-for="QuantityOnHand"></label>
                <input asp-for="QuantityOnHand" class="form-control" />
            </div>

            <div class="form-group mb-2">
                <label asp-for="ReorderLevel"></label>
                <input asp-for="ReorderLevel" class="form-control" />
            </div>

            <div class="form-group mb-2">
                <label asp-for="SupplierId"></label>
                <input asp-for="SupplierId" class="form-control" />
            </div>

            <div class="form-group mb-2">
                <label asp-for="ImageUrl"></label>
                <input asp-for="ImageUrl" id="imageInput" class="form-control" />
            </div>

            <button type="submit" class="btn btn-primary mt-3">Create</button>
            <a asp-action="Index" class="btn btn-secondary mt-3">Cancel</a>
        </form>
    </div>

    <!-- RIGHT SIDE IMAGE PREVIEW -->
    <div class="col-md-6 d-flex justify-content-center align-items-start">
        <img id="imagePreview"
             src="https://via.placeholder.com/200"
             class="img-fluid rounded shadow-sm"
             style="max-width: 100%; height: auto;" />
    </div>
</div>

@section Scripts {
    <script>
        const input = document.getElementById("imageInput");
        const preview = document.getElementById("imagePreview");

        input.addEventListener("input", function () {
            if (this.value.trim() === "") {
                preview.src = "https://via.placeholder.com/200";
            } else {
                preview.src = this.value;
            }
        });
    </script>
}
